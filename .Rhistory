combo$Title <- ifelse(combo$Email == "jennifer@beardstclair.com", "Administrator", combo$Title)
combo$Title <- ifelse(combo$Email == "rlightell@gallowaylawfirm.com", "Chief", combo$Title)
combo$Title <- ifelse(combo$Email == "alan.goldman@bfkn.com", "Chief", combo$Title) # CFO with COO also
combo$Title <- ifelse(combo$Email == "anthony.canzoneri@hwhlaw.com", "Other", combo$Title) # CFO
combo$Title <- factor(combo$Title, levels = c("Chief", "Director", "Administrator", "Manager", "Other"))
# table(combo$Title, useNA = "always")
# which(is.na(combo$Title))   # 32, 76, 89
# EdLevel Issues
# put most specific responses first; a blog post! what a mess! show all fixes in alpha order
combo$EdLevel <- str_trim(combo$EdLevel, side = "both")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Associate's", "No college degree")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "College degree,JD", "JD")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "College degree,MBA,JD", "MBA") #note this
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "College degree,MBA,PhD", "MBA")  # note this
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Four-year college degree", "College degree")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Four-year college degree,Other", "College degree")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "High school graduate", "No college degree")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Masters \\(other than MBA\\),MBA", "MBA")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Masters \\(other than MBA\\),Other", "Masters")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Masters \\(other than MBA\\),MBA,Other", "Masters")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Masters \\(other than MBA\\)", "Masters")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "MBA,Other", "MBA")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "MBA,JD", "MBA")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Other", "College degree") # three CPAs below
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Some college, no degree", "No college degree")
combo$EdLevel <- str_replace_all(combo$EdLevel, pattern = "Some college, no degree,Other", "No college degree")
combo$EdLevel <- ifelse(combo$Email == "james.perkins@procopio.com", "MBA", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "kborofsky@lalaw.com", "MBA", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "frank.lamanna@thompsonhine.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "tmoorenatal@hpdlaw.com", "No college degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "bgilman@smithdebnamlaw.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "marie.fiorito@sfbbg.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "tkmiecik@kdlegal.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "kmbrostron@lashlybaer.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "skloot@cwilson.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "nhamlett@truckerhuss.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "lquindt@ftblaw.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "jbuchtel@frgalaw.com", "College degree", combo$EdLevel)
combo$EdLevel <- ifelse(combo$Email == "cborza@bodmanlaw.com", "No college degree", combo$EdLevel) # 0 on LI
combo$EdLevel <- ifelse(combo$Email == "jhamilton@wolfsedgeintegrators.com", "College degree", combo$EdLevel) # "CPA
combo$EdLevel <- factor(combo$EdLevel, levels = c("JD","MBA","Masters","College degree","No college degree"))
# table(combo$EdLevel, useNA = "always")
# which(is.na(combo$EdLevel))
# jbuchtel@frgalaw.com [9] is retired, but College; marie.fiorito@sfbbg.com [99] linkedIn says "Harper College but gives no date of graduation"; cborza@bodmanlaw.com [140] can't find on site or LinkedIn; arti.shah@weil.com [186] filled it out but he is comp guy'  ksmith@bairdholm.com (CPA); svandorp@mullinslawyers.com.au (australia, CPA); eamon CPA ("all states require CPAs to have a bachelors")
# which(combo$EdLevel == "Other")
## DOMESTIC Offices DomOff
combo$DomOffices <- ifelse(combo$Email == "jtrela@rosenbergmartin.com", 4, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "joe.kelley@wilsonelser.com", 42, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "tmoorenatal@hpdlaw.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "tschwartz@robinskaplan.com", 8, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "gibbk@whiteandwilliams.com", 11, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "klaughman@timoneyknox.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "maryt@mckinleyirvin.com", 9, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "hmudrick@winstead.com", 8, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "gorman@khlaw.com", 4, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "kristy.williams@mhllp.com", 4, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "tbseverson@nyemaster.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "kcannon@bassberry.com", 4, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "jessica.hoffmann@steptoe-johnson.com", 10, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "aeverage@meyersnave.com", 5, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "mschadler@chuhak.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "bpennell@cshlaw.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "mslonner@cbdm.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "tina.shinnick@hbsr.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "kborofsky@lalaw.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "cgillis@pcrfirm.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "mmaynard@ottenjohnson.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "shawn.adams@stinson.com", 17, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "vlachapelle@eatonpeabody.com", 5, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "fomalley@carltonfields.com", 12, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "ksmith@bairdholm.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "imartinez@donahue.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "pwinter@fgppr.com", 11, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "darcy.diaz@ropers.com", 11, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "scook@klendalaw.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "dsantana@fitcheven.com", 5, combo$DomOffices) # email is wrong
combo$DomOffices <- ifelse(combo$Email == "dcervantes@hsplegal.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "hkatz@bracheichler.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "bdonohue@bsk.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "laurel.henschel@skadden.com", 21, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "acampbell@bbllaw.com", 2, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "kellikohout@dwt.com", 11, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "dsochia@mckoolsmith.com", 8, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "hduncan@mcginnislaw.com", 5, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "gbrown@wglaw.com", 12, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "sbrill@be-law.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "bsingleton@connellfoley.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "arthur.bernstein@tuckerellis.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "jgresham@lplegal.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "jgosnell@sulloway.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "ayoung@schwabe.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "sil.talarico@gmail.com", 1, combo$DomOffices) # Sunstein
combo$DomOffices <- ifelse(combo$Email == "bthompson@gsw-llp.com", 1, combo$DomOffices)  # Gadsden
combo$DomOffices <- ifelse(combo$Email == "megan@cookcraig.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "avenida@wtotrial.com", 3, combo$DomOffices)  #Wheeler
combo$DomOffices <- ifelse(combo$Email == "jdemarest@plavekoch.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "khurley@connkavanaugh.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "dean.nakayama@moyewhite.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "jeumont@degan.com", 3, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "cmccallum@arnettlawgroup.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "bseabolt@scott-scott.com", 12, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "rmanning@mchlawpc.com", 1, combo$DomOffices)
combo$DomOffices <- ifelse(combo$Email == "dpatrylak@nicolaidesllp.com", 6, combo$DomOffices)
# which(is.na(combo$DomOffices))
# summary(combo$DomOffices)
# which(is.na(combo$DomOffices))
# PRIOR Position Issues
# table(combo$PriorPos, useNA = "always")
combo$PriorPos <- str_replace(combo$PriorPos, pattern = "Hired from a different position at another law firm", replacement = "Hired from a different role at another law firm")
## YEARS IN ROLE at all law firms ISSUES
# summary(combo$YearsRole)
# CITY ISSUES
# jessica.hoffmann@steptoe-johnson.com == DALLAS?
combo$CityOther <- str_remove_all(string = combo$CityOther, pattern = ",.+$")
combo$City <- ifelse(is.na(combo$City), combo$CityOther, combo$City)
combo$City <- ifelse(combo$Email == "moleary@hinckleyallen.com", "Boston", combo$City)
combo$City <- ifelse(combo$Email == "dbluedorn@bccz.com", "Pittsburgh", combo$City)
combo$City <- ifelse(combo$Email == "sferber@smgglaw.com", "Pittsburgh", combo$City)
combo$City <- ifelse(combo$Email == "vlachapelle@eatonpeabody.com", "Portland", combo$City)
combo$City <- ifelse(combo$Email == "ldunnagan@glennrob.com", "Roanoke", combo$City)
combo$City <- ifelse(combo$Email == "eseeger@huntermaclean.com", "Savannah", combo$City)
combo$City <- ifelse(combo$Email == "kolson@kmclaw.com", "Salt Lake City", combo$City)
combo$City <- ifelse(combo$Email == "bdonohue@bsk.com", "Syracuse", combo$City)
combo$City <- ifelse(combo$Email == "abarchick@rcolaw.com", "Toledo", combo$City)
combo$City <- ifelse(combo$Email == "jgosnell@sulloway.com", "Boston", combo$City)
combo$City <- ifelse(combo$Email == "vallen@gorencherof.com", "Miami", combo$City)
# CityLocations == DomOffices
# combo$City <- ifelse(combo$CityOther == "Stamford, CT", "Stamford",
#                      ifelse(combo$CityOther == "Buffalo", "Buffalo",
#                             ifelse(combo$CityOther == "Wilmington, Delaware", "Wilmington",
#                                    ifelse(combo$CityOther == "Des Moines, IA", "Des Moines",
#                                           ifelse(combo$CityOther == "Burlington", "Burlington",
#                                                  ifelse(combo$CityOther == "Salt Lake City, UT", "Salt Lake City",
#                                                         ifelse(combo$CityOther == "St. Louis", "St. Louis", combo$City)))))))
combo$City <- ifelse(combo$City == "Albany NY", "Albany", combo$City)
combo$City <- ifelse(combo$City == "Buffalo ny", "Buffalo", combo$City)
combo$City <- ifelse(combo$City == "COLUMBIA SC", "Columbia", combo$City)
combo$City <- ifelse(combo$City == "Des Moines Iowa", "Des Moines", combo$City)  # how do I handle Charleston WV and SC? Portland ME and OR
combo$City <- ifelse(combo$City == "Iselin NJ", "Iselin", combo$City)
combo$City <- ifelse(combo$City == "Kansas city", "Kansas City", combo$City)
combo$City <- ifelse(combo$City == "New York City", "New York", combo$City)
combo$City <- ifelse(combo$City == "Northern Virginia", "Washington", combo$City)
combo$City <- ifelse(combo$City == "Relatively Low COLA", "Lansing", combo$City)
combo$City <- ifelse(combo$City == "Washington, DC", "Washington", combo$City)
combo$City <- ifelse(combo$City == "Wilmington Delaware", "Wilmington", combo$City)
combo$City <- str_replace_all(combo$City, pattern = "Albany", replacement = "Albany NY")
combo$City <- str_replace_all(combo$City, pattern = "Burlington", replacement = "Burlington VT")
combo$City <- str_replace_all(combo$City, pattern = "Columbia", replacement = "Columbia SC")
combo$City <- str_replace_all(combo$City, pattern = "Jackson", replacement = "Jackson MS")
combo$City <- str_replace_all(combo$City, pattern = "Kansas city", replacement = "Kansas City")
combo$City <- str_replace_all(combo$City, pattern = "Iselin", replacement = "Newark")
combo$City <- str_replace_all(combo$City, pattern = "Roseland", replacement = "Newark")
combo$City <- str_replace_all(combo$City, pattern = "New York City", replacement = "New York")
combo$City <- str_replace_all(combo$City, pattern = "Roanoke VA", replacement = "Roanoke")
combo$City <- factor(combo$City)
# levels(combo$City)  # 5/23 have 73
cityCount <- combo %>% group_by(City) %>% summarise(Count = n()) %>% arrange(desc(Count))  # 6 w/ 6+ 6/29
# which(is.na(combo$City))
# REPORTs ISSUEs
# summary(combo$Reports)
# which(combo$Reports == 1300)  # max is Weil Gotshal
# Equity Partners EqPtrs
# summary(combo$EqPtrs)
# COMP ISSUES
# which(combo$Base == min(combo$Base, na.rm = TRUE))
# which(combo$Total == max(combo$Total, na.rm = TRUE))  Holsworth of Locke Lorde
# email 8/3 jlovato@gblaw.com  As of 01.01.23, my base is $143,000 and my 2022 total bonus was $19,750.
# email 8/3 Avenida@wtotrial.com 2022 Bonus - $65,000  2023 Base - $350,000  2023 Bonus – n/a
# Michelle Doran 9/18 mdoran@murthalaw.comI’m at $335k and 35k bonus.  revenue last year was 39M.  Rippe for our financial management software.  We also are a LexMundi firm.
combo$Base <- ifelse(combo$Email == "mdoran@murthalaw.com", 335000, combo$Base)
combo$Bonus <- ifelse(combo$Email == "mdoran@murthalaw.com", 35000, combo$Bonus)
combo$Base <- ifelse(combo$Email == "shinojosa@rappandkrock.com", 135000, combo$Base)
combo$Base <- ifelse(combo$Email == "cborza@bodmanlaw.com", 163000, combo$Base)   # was 16,300
combo$Base <- ifelse(combo$Email == "jlovato@gblaw.com", 143000, combo$Base)
combo$Bonus <- ifelse(combo$Email == "jlovato@gblaw.com", 19750, combo$Bonus)
combo$Base <- ifelse(combo$Email == "Avenida@wtotrial.com", 350000, combo$Base)
combo$Bonus <- ifelse(combo$Email == "Avenida@wtotrial.com", 65000, combo$Bonus)
# Salary = $530,000 ; Bonus  = $142,000 KCannon@bassberry.com email of 8/15
combo$Base <- ifelse(combo$Email == "KCannon@bassberry.com", 530000, combo$Base)
combo$Bonus <- ifelse(combo$Email == "KCannon@bassberry.com", 142000, combo$Bonus)
combo$Base <- ifelse(combo$Email == "llunsfors@wolfsedgeintegrators.com", 300000, combo$Base) # wrote 300
combo$Base <- ifelse(combo$Email == "jhamilton@wolfsedgeintegrators.com", 350000, combo$Base) # wrote 350
combo$Base <- ifelse(combo$Email == "cmartin@collinsandlacy.com", 225000, combo$Base) # wrote 225
combo$Base <- ifelse(combo$Email == "dmiller@sutter-law.com", 225000, combo$Base) # wrote 225
combo$Base <- ifelse(combo$Email == "cpierce@parksandsolar.com", 650000, combo$Base) # wrote 650
combo$Base <- ifelse(combo$Email == "rrhodehamel@awattorneys.com", 260000, combo$Base) # wrote 260
combo$Base <- ifelse(combo$Email == "lquindt@ftblaw.com", 375000, combo$Base) # wrote 375
combo$Base <- ifelse(combo$Email == "cdecker@epsten.com", 375000, combo$Base) # wrote 375
combo$Base <- ifelse(combo$Email == "youngc@goosmannlaw.com", 350000, combo$Base) # wrote 350
combo$Base <- ifelse(combo$Email == "stalarico@sunsteinlaw.com", 435000, combo$Base) # wrote 435
combo$Base <- ifelse(combo$Email == "stalarico@sunsteinlaw.com", 435000, combo$Base) # wrote 435
combo$Base <- ifelse(combo$Email == "pmorton@burnslev.com", 490000, combo$Base) # wrote 490
combo$Base <- ifelse(combo$Email == "cmontemor@apslaw.com", 350000, combo$Base) # wrote 435
combo$Base <- ifelse(combo$Email == "philchacko3@gmail.com", 900000, combo$Base) # wrote 435
combo$Base <- ifelse(combo$Email == "mkodner@maglaw.com", 800000, combo$Base) # wrote 800
combo$Base <- ifelse(combo$Email == "nhamlett@truckerhuss.com", 520000, combo$Base) # wrote 520
combo$Base <- ifelse(combo$Email == "jriggleman@capdale.com", 600000, combo$Base) # wrote 600
combo$Bonus <- ifelse(combo$Email == "jdurham@verrill-law.com", 50000, combo$Bonus) # wrote 50
combo$Bonus <- ifelse(combo$Email == "dean.nakayama@moyewhite.com", 0, combo$Bonus) # did not total
combo$Total <- combo$Base + combo$Bonus
combo$Total <- ifelse(combo$Email == "jessica.hoffmann@steptoe-johnson.com", 496375, combo$Total) # 2022 + 4.5%
combo$Total <- ifelse(combo$Email == "kristy.williams@mhllp.com", 418000, combo$Total) # 2022 + 4.5%
# summary(combo$Total)
COLA <- readxl::read_xlsx(path = "C:/Users/rees/Documents/R/Projects/Clients/LFExecDirs/US Law Firms/Cost of Living advisorsmith COLA.xlsx")
combo <- left_join(combo, COLA[  , c("COLA", "City")])
combo$TotalCOLA <- (combo$Total/combo$COLA)*100  # adjust total comp by COLA of major city
combo$Lawyers <- combo$EqPtrs + combo$OtherLawyers
# which(is.na(combo$Lawyers))  which(min(combo$Lawyers))
combo$Lawyers <- ifelse(combo$Email == "ccoutchie@fosterswift.com", 87, combo$Lawyers) # NA
combo$Lawyers <- ifelse(combo$Email == "kolson@kmclaw.com", 149, combo$Lawyers) # NA
combo$Lawyers <- ifelse(combo$Email == "walshc@deflaw.com", 121, combo$Lawyers) # showed 1
# summary(combo$Lawyers)
# which(combo$Email == "walshc@deflaw.com")
## REVENUE ISSUES  Maybe confirm these! or redo with email
combo$Revenue <- ifelse(combo$Revenue == 13600, 13600000, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 28000, 28000000, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 13500, 13500000, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 4469374, 44693740, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 6748000000, 674800000, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 100000000, 10000000, combo$Revenue)
combo$Revenue <- ifelse(combo$Revenue == 3448276, 344827, combo$Revenue)
combo$Revenue <- ifelse(combo$Email == "mdoran@murthalaw.com", 39000000, combo$Revenue)
# summary(combo$Revenue)
## PPEP Issues
combo$PPEP <- ifelse(combo$Email == "tgaughan@honigman.com", 1400000, combo$PPEP)
combo$PPEP <- ifelse(combo$Email == "pcampbell@turnerpadget.com", median(combo$PPEP, na.rm = TRUE), combo$PPEP)
combo$PPEP <- ifelse(combo$Email == "dmiller@sutter-law.com", median(combo$PPEP, na.rm = TRUE), combo$PPEP)
combo$PPEP <- ifelse(combo$Email == "pross@clarkhill.com", 620000, combo$PPEP)   # as entered 620, I did not confirm
combo$PPEP <- ifelse(combo$Email == "rundell@hitefanning.com", 330000, combo$PPEP) # as entered 33000, I did not confirm
combo$PPEP <- ifelse(combo$Email == "jeff@lsclaw.com", 500000, combo$PPEP)  # as entered 50000, I did not confirm
combo$PPEP <- ifelse(combo$Email == "akoplos@shuffieldlowman.com", 750000, combo$PPEP)   # as entered 75000, I did not confirm
combo$PPEP <- ifelse(combo$Email == "sking@pbwt.com", 2025000, combo$PPEP) # as entered 20250000, did not confirm
# summary(combo$PPEP)
# which(combo$PPEP < 250000)  # 3 but I left them as is
# max(combo$PPEP, na.rm = TRUE)
# Billing Rate Issues
# summary(combo$BillingRate)
# which(combo$BillingRate == 1250)  # 3
# Practice Groups
# table(combo$PGs)
# Lawyer Staff Ratio
# I converted the following numbers to percentages (41 was lowest)
combo$JDRatio <- ifelse(combo$Email == "rcarroll@robinsongray.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "jdurham@verrill-law.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "kevin.busch@lawmoss.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "ganderson@andersonkill.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "dcovello@rccblaw.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "eamon@greenbaumlaw.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "rstaggers@bakerdonelson.com", combo$JDRatio/100, combo$JDRatio)
combo$JDRatio <- ifelse(combo$Email == "kcannon@bassberry.com", combo$JDRatio/1000, combo$JDRatio) #636
combo$JDRatio <- ifelse(combo$Email == "jbrefach@mccarter.com", 0.51, combo$JDRatio) # was 51
combo$JDRatio <- ifelse(combo$Email == "acampbell@bbllaw.com", 0.63, combo$JDRatio)
# summary(combo$JDRatio)
# Weekly Emails
# summary(combo$WklyEmails)
# ADD GENDER
library(gender)
library(genderdata)
# remotes::install_github("lmullen/genderdata")
Gender <- gender(names = combo$First, method = "genderize")
combo <- bind_cols(combo, Gender[2])  #on 7/2 blocked from too many requests. so save and read
# table(factor(combo$gender), useNA = "always")
# which(is.na(combo$gender)
combo$gender <- ifelse(combo$Email == "brefach@mccarter.com", "male", combo$gender)
# writexl::write_xlsx(combo, path = "C:/Users/rees/Documents/R/Projects/CLIENTS/COO Comp 2023/comboReportFour.xlsx")  # 228 on 9/28 after removing all duplicates and unqualified
writexl::write_xlsx(combo, path = "C:/Users/rees/Documents/R/Projects/CLIENTS/COO Comp 2023/comboReportFour.xlsx")
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message = FALSE)
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::serve_site()
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::check_site()
blogdown:::create_index()
blogdown::check_site()
blogdown::config_Rprofile()
blogdown::config_Rprofile()
blogdown::clean_duplicates(preview = FALSE)
file.remove(c(
"content/post/2023-01-18-create-drop-down-selection-lists/DropDowns.html"
))
blogdown::build_site(build_rmd = "newfile")
blogdown::check_site()
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message = FALSE)
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::serve_site()
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message = FALSE)
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::serve_site()
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::check_hugo()
blogdown::check_site()
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
blogdown::serve_site()
blogdown::stop_server()
knitr::opts_chunk$set(echo = FALSE, warning=FALSE, message = FALSE)
library(tidyverse)  # frequently used packages that follow a similar coding approach
library(blogdown)
library(knitr)
library(funModeling) # to compare vectors against each other, such as URLs of posts
library(ggthemes) # to include the theme_tufte them in plots
library(lubridate) # to deal with date data, such as the date a post is published
library(ggrepel) # to spread points or text so that they do not overlap on a plot
library(readxl) # to read in the underlying Excel data
library(tidytext) # text-mining functions that help analyse the content of posts
library(writexl)
library(kableExtra)
serve_site()
blogdown:::new_post_addin()
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
knitr::opts_chunk$set(echo=F, warning=F, message=F, fig.align='center')
knitr::opts_knit$set(root.dir = "C:/Users/rees/Documents/R/Projects/CLIENTS/UKRlosses/")
library(tidyverse)
library(dplyr)
library(readxl)
library(kableExtra)
library(scales)
library(xtable)
library(ggthemes)
library(ggrepel)
library(RColorBrewer)
library(TSPred)
library(GGally)
library(ggcorrplot)
library(caret)
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
library(broom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , -1])
# summary(RegModAllVars)
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Loss", "Coefficient", "StdError", "TStat", "p_value")
summaryBroom$Coefficient <- format(summaryBroom$Coefficient, digits = 2)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
summaryBroom <- summaryBroom %>% dplyr::select(Loss, Coefficient, p_value) %>% arrange(p_value)
regrTable <- kable(subset(summaryBroom, p_value < 0.06), caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
regrTable
summaryBroom
kable(subset(summaryBroom, p_value < 0.06), caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
colnames(summaryBroom) <- c("Loss", "Coefficient", "StdError", "TStat", "p_value")
summaryBroom$Coefficient <- format(summaryBroom$Coefficient, digits = 2, scientific = FALSE)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , -1])
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Loss", "Coefficient", "StdError", "TStat", "p_value")
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Term", "Loss", "Coefficient", "StdError", "TStat", "p_value")
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
library(broom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Term", "Loss", "Coefficient", "StdError", "p_value")
summaryBroom$Coefficient <- format(summaryBroom$Coefficient, digits = 2, scientific = FALSE)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
summaryBroom <- summaryBroom %>% dplyr::select(Loss, Coefficient, p_value) %>% arrange(p_value)
kable(subset(summaryBroom, p_value < 0.06), caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
kable(subset(summaryBroom, p_value < 0.07), caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
library(broom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Term", "Loss", "Coefficient", "StdError", "p_value")
summaryBroom$Loss <- round(summaryBroom$Loss, digits = 2)
summaryBroom$Coefficient <- format(summaryBroom$Coefficient, digits = 2, scientific = FALSE)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
summaryBroom <- summaryBroom %>% dplyr::select(Loss, Coefficient, p_value) %>% arrange(p_value)
View(summaryBroom)
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
library(broom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Term", "Loss", "Coefficient", "StdError", "p_value")
summaryBroom$Loss <- round(summaryBroom$Loss, digits = 1)
summaryBroom$Coefficient <- format(summaryBroom$Coefficient, digits = 2, scientific = FALSE)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
View(summaryBroom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
summary(RegModAllVars)
broom::tidy(RegModAllVars)
broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Equipment", "Coefficient", "StdError", "Stat", "p_value")
summaryBroom$Coefficient <- round(summaryBroom$Coefficient, digits = 2)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
View(summaryBroom)
summaryBroom <- summaryBroom %>% dplyr::select(Equipment, Coefficient, p_value) %>% arrange(p_value)
kable(summaryBroom, caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
newFormula <- as.formula(substituteDirect(formula(RegModAllVars), as.list(coef(RegModAllVars))))
newFormula
as.formula(
paste0("y ~ ", round(coefficients(RegModAllVars)[1],2), "",
paste(sprintf(" %+.2f*%s ",
coefficients(RegModAllVars)[-1],
names(coefficients(RegModAllVars)[-1])),
collapse="")
)
)
as.formula(
paste0("y ~ ", round(coefficients(RegModAllVars)[1],1), "",
paste(sprintf(" %+.2f*%s ",
coefficients(RegModAllVars)[-1],
names(coefficients(RegModAllVars)[-1])),
collapse="")
)
as.formula(
paste0("y ~ ", round(coefficients(RegModAllVars)[1],1), "",
paste(sprintf(" %+.2f*%s ",
coefficients(RegModAllVars)[-1],
names(coefficients(RegModAllVars)[-1])),
collapse="")
)
)
ukrReg <- read_xlsx(path = "C:/Users/rees/Documents//R/Projects/CLIENTS/UKRlosses/ukrAll.xlsx")
library(broom)
RegModAllVars <- lm(Soldiers ~ ., data = ukrReg[  , 1:11])
# summary(RegModAllVars)
summaryBroom <- broom::tidy(RegModAllVars)
colnames(summaryBroom) <- c("Equipment", "Coefficient", "StdError", "Stat", "p_value")
summaryBroom$Coefficient <- round(summaryBroom$Coefficient, digits = 2)
summaryBroom$p_value <- round(summaryBroom$p_value, digits = 4)
summaryBroom <- summaryBroom[-c(1), ]
summaryBroom <- summaryBroom %>% dplyr::select(Equipment, Coefficient, p_value) %>% arrange(p_value)
View(summaryBroom)
kable(summaryBroom, caption = "Linear Regression Model", row.names = FALSE) %>%
kable_styling(position = "center", full_width = FALSE, latex_options = "hold_position")
as.numeric(summaryBroom["Tanks", 2])
as.numeric(summaryBroom[Tanks, 2])
as.numeric(summaryBroom[5, 2])
as.numeric(summaryBroom[2, 2])
format(summary(RegModAllVars)$adj.r.squared, digits = 2)
format(summary(RegModAllVars)$fstatistic, digits = 1)[3]
blogdown:::new_post_addin()
stop_server()
